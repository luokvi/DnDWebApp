(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{32:function(e,t,n){},53:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(26),s=n.n(a),i=(n(32),n(3)),u=n.n(i),j=n(4),l=n(2),b=n(5),o=n(7),d=n.n(o),O="/api/users",p=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.get(O);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=O+"/"+t,c={headers:{Authorization:"Bearer "+n}},e.next=4,d.a.get(r,c);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=O+"/other/"+t,e.next=3,d.a.get(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O+"/friendRequest",r={headers:{Authorization:"Bearer "+n}},e.next=4,d.a.post("/api/users/friendRequest",t,r);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(j.a)(u.a.mark((function e(t,n,r,c){var a,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O+"/friend",a={senderId:t,receiverId:n,friendRequest:r},s={headers:{Authorization:"Bearer "+c}},e.next=5,d.a.post("/api/users/friend",a,s);case 5:return i=e.sent,e.abrupt("return",i.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.a.post(O,t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S={getAll:p,getUser:h,sendFriendRequest:m,acceptFriendRequest:f,getOtherUser:x,createUser:v},g=n(8),y=n(17),k=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/character",r={headers:{Authorization:"Bearer "+n}},e.next=4,d.a.post("/api/character",t,r);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r,c,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.characterId,c="/api/character/"+r,a={headers:{Authorization:"Bearer "+n}},e.next=5,d.a.patch(c,t,a);case 5:return s=e.sent,e.abrupt("return",s.data);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/api/character/"+t,c={headers:{Authorization:"Bearer "+n}},e.next=4,d.a.get(r,c);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),P=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/items",r={headers:{Authorization:"Bearer "+n}},e.next=4,d.a.post("/api/items",t,r);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/items/equipment",e.next=3,d.a.get("/api/items/equipment");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/items/spells",e.next=3,d.a.get("/api/items/spells");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/items/weapons",e.next=3,d.a.get("/api/items/weapons");case 3:return t=e.sent,e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/api/character/party/"+t,e.next=3,d.a.get(n);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/character/party",r={headers:{Authorization:"Bearer "+n}},e.next=4,d.a.post("/api/character/party",t,r);case 4:return c=e.sent,e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),H=function(){var e=Object(j.a)(u.a.mark((function e(t,n,r,c){var a,s,i,j,l;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:return a=e.sent,s=Object(y.a)(Object(y.a)({},a),{},{characters:Object(g.a)(a.characters.map((function(e){return e.id}))),users:[].concat(Object(g.a)(a.users.map((function(e){return e.id}))),[n]),userId:c}),i="/api/character/party/"+t,j={headers:{Authorization:"Bearer "+r}},e.next=8,d.a.patch(i,s,j);case 8:return l=e.sent,e.abrupt("return",l.data);case 10:case"end":return e.stop()}}),e)})));return function(t,n,r,c){return e.apply(this,arguments)}}(),D=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="/api/character/party/"+t.id,c={headers:{Authorization:"Bearer "+n}},e.next=4,d.a.patch(r,t,c);case 4:return a=e.sent,e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V={createCharacter:k,createItem:P,getEquipment:C,getSpells:N,getWeapons:I,getCharacter:F,updateCharacter:w,getParty:q,createParty:A,addUserToParty:H,updateParty:D},E=n(6),L=function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={username:t,password:n},e.next=3,d.a.post("/api/login",r);case 3:return c=e.sent,e.abrupt("return",c.data);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T={loginUser:L},B=n(0),R=function(e){var t=e.setFunction,n=e.user,c=e.loggedInAs,a=Object(r.useState)(""),s=Object(l.a)(a,2),i=s[0],o=s[1],d=Object(r.useState)(""),O=Object(l.a)(d,2),p=O[0],h=O[1],x=Object(r.useState)(""),m=Object(l.a)(x,2),f=m[0],v=m[1],g=Object(b.g)();Object(r.useEffect)((function(){y()}),[]);var y=function(){var e=Object(j.a)(u.a.mark((function e(){var r,c,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==n){e.next=15;break}if(r=JSON.parse(localStorage.getItem("user")),c=localStorage.getItem("token"),null===r){e.next=15;break}return e.next=6,S.getUser(r.id,c);case 6:a=e.sent,e.prev=7,s=a.id,t(s,c),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return");case 15:case"end":return e.stop()}}),e,null,[[7,12]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(j.a)(u.a.mark((function e(n){var r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,T.loginUser(i,p);case 4:return r=e.sent,e.next=7,S.getUser(r.userid,r.token);case 7:c=e.sent,localStorage.setItem("user",JSON.stringify(c)),localStorage.setItem("token",r.token),t(r.userid,r.token),h(""),v(""),g("/myProfile"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(1),v("Incorrect username or password"),h("");case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return n?Object(B.jsxs)("div",{children:[Object(B.jsxs)("p",{children:["Logged in as",Object(B.jsx)(E.b,{to:"/myProfile",children:c})]}),Object(B.jsx)("button",{id:"logout-button",onClick:function(e){e.preventDefault(),t("",""),o(""),localStorage.clear()},children:"Logout"})]}):Object(B.jsxs)("div",{children:[Object(B.jsx)("h3",{children:"Sign in"}),Object(B.jsxs)("form",{onSubmit:k,children:[Object(B.jsx)("p",{children:f}),Object(B.jsxs)("div",{children:["username",Object(B.jsx)("input",{id:"username",type:"text",value:i,name:"Username",required:!0,onChange:function(e){var t=e.target;return o(t.value)}})]}),Object(B.jsxs)("div",{children:["password",Object(B.jsx)("input",{id:"password",type:"password",value:p,name:"Password",required:!0,onChange:function(e){var t=e.target;return h(t.value)}})]}),Object(B.jsx)("button",{id:"login-button",type:"submit",children:"login"})]})]})},U=n(15),W=n(27),z=["label","type","value","setFunction"],M=function(e){var t=e.title,n=e.label,r=e.value,c=e.setFunction;return"0"!==r?Object(B.jsxs)("div",{children:[Object(B.jsx)("input",{type:"checkbox",id:t,name:t,value:t,onChange:function(e){e.target;return c("0")},checked:!0}),Object(B.jsx)("label",{htmlFor:t,children:n})]}):Object(B.jsxs)("div",{children:[Object(B.jsx)("input",{type:"checkbox",id:t,name:t,value:t,onChange:function(e){var t=e.target;return c(t.value)}}),Object(B.jsx)("label",{htmlFor:t,children:n})]})},G=function(e){var t=e.listHeader,n=e.listValue,c=e.listSetFunction,a=Object(r.useState)(""),s=Object(l.a)(a,2),i=s[0],u=s[1],j=Object(r.useState)(""),b=Object(l.a)(j,2),o=b[0],d=b[1];return Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{children:Object(B.jsx)("b",{children:t})}),Object(B.jsx)(Q,{label:"Name",type:"text",value:i,setFunction:u}),Object(B.jsx)(Q,{label:"Description",type:"text",value:o,setFunction:d}),Object(B.jsx)("button",{onClick:function(e){if(e.preventDefault(),""!==i){var t={name:i,description:o};c([].concat(Object(g.a)(n),[t])),u(""),d("")}},children:"Add"}),Object(B.jsx)("p",{children:Object(B.jsx)("b",{children:"Added:"})}),n.map((function(e){return Object(B.jsxs)("div",{children:[Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{children:"Name:"})," ",e.name," "]}),Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{children:"Description:"})," ",e.description]})]},e.name)}))]})},J=function(e){var t=e.listHeader,n=e.label,c=e.listValue,a=e.listSetFunction,s=Object(r.useState)(""),i=Object(l.a)(s,2),u=i[0],j=i[1];return Object(B.jsxs)("div",{children:[Object(B.jsx)("p",{children:Object(B.jsx)("b",{children:t})}),Object(B.jsx)(Q,{label:n,type:"Text",value:u,setFunction:j}),Object(B.jsx)("button",{onClick:function(e){e.preventDefault(),""!==u&&(a([].concat(Object(g.a)(c),[u])),j(""))},children:"Add"}),Object(B.jsx)("p",{children:Object(B.jsx)("b",{children:"Added:"})}),c.map((function(e){return Object(B.jsx)("p",{children:e},e)}))]})},K=function(e){var t=e.field,n=e.optionsList,c=e.listValue,a=e.listSetFunction,s=e.oneValue,i=void 0!==s&&s,u=Object(r.useState)(""),j=Object(l.a)(u,2),b=j[0],o=j[1];return Object(B.jsxs)("div",{children:[Object(B.jsx)("h5",{children:t}),Object(B.jsxs)("select",{name:t,id:t,onChange:function(e){var t=e.target;return o(t.value)},children:[n.map((function(e){return i?Object(B.jsx)("option",{value:[e.id,e.name],children:e.name},e.id):Object(B.jsxs)("option",{value:[e.id,e.name],children:[e.name,": ",e.description]},e.id)})),Object(B.jsx)("option",{children:"empty"})]}),Object(B.jsx)("button",{onClick:function(e){if(e.preventDefault(),""!==b){var t=b.split(","),n=t[0],r=t[1];a([].concat(Object(g.a)(c),[{id:n,name:r}])),o("")}},children:"Add"}),Object(B.jsx)("p",{children:Object(B.jsx)("b",{children:"Added:"})}),c.map((function(e){return Object(B.jsx)("p",{children:e.name},e.id)}))]})},Q=function(e){var t=e.label,n=e.type,r=e.value,c=e.setFunction,a=Object(W.a)(e,z);return Object(B.jsxs)("div",{children:[Object(B.jsxs)("label",{children:[t,": "]}),Object(B.jsx)("input",{type:n,value:r,name:t,onChange:function(e){var t=e.target;return c(t.value)},min:a.min,max:a.max})]})},X=function(e){Object(U.a)(e);var t=Object(r.useState)(""),n=Object(l.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)(""),i=Object(l.a)(s,2),b=i[0],o=i[1],d=Object(r.useState)(""),O=Object(l.a)(d,2),p=O[0],h=O[1],x=Object(r.useState)(""),m=Object(l.a)(x,2),f=m[0],v=m[1],g=function(){var e=Object(j.a)(u.a.mark((function e(t){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==c&&""!==b&&""!==p){e.next=4;break}return v("Username and password required."),e.abrupt("return");case 4:if(!(c.length<5)){e.next=7;break}return v("Username should be atleast 5 characters long."),e.abrupt("return");case 7:if(!(b.length<8)){e.next=12;break}return v("Password should be atleast 8 characters long."),o(""),h(""),e.abrupt("return");case 12:if(b===p){e.next=17;break}return o(""),h(""),v("Passwords should match."),e.abrupt("return");case 17:return v(""),n={username:c,password:b},e.next=21,S.createUser(n);case 21:r=e.sent,v("Created new user "+r.username),a(""),o(""),h("");case 26:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)("h3",{children:"Sign up"}),Object(B.jsxs)("form",{onSubmit:g,children:[Object(B.jsx)(Q,{label:"Username",value:c,setFunction:a,required:!0}),Object(B.jsx)(Q,{label:"Password",type:"password",value:b,setFunction:o,required:!0}),Object(B.jsx)(Q,{label:"Repeat password",type:"password",value:p,setFunction:h,required:!0}),Object(B.jsx)("p",{children:f}),Object(B.jsx)("button",{type:"submit",children:"sign up"})]})]})},Y=function(e){var t=e.user,n=e.r,r=e.setNotif,c=e.token,a=function(){var e=Object(j.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.acceptFriendRequest(t.id,n.sender.id,n.id,c);case 3:e.sent,r("Added friend "+n.sender.username),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r("Error occured when accepting friend request from "+n.sender.username);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(B.jsx)("li",{children:Object(B.jsxs)("p",{children:["From: ",Object(B.jsx)(E.b,{to:"/user/"+n.sender.id,children:n.sender.username}),Object(B.jsx)("button",{onClick:a,children:"Accept"})]})})},Z=function(e){var t=e.c,n=Object(b.g)();return Object(B.jsxs)("div",{className:"card",children:[Object(B.jsx)("h5",{children:Object(B.jsx)(E.b,{to:"/character/view/"+t.id,children:t.name})}),Object(B.jsxs)("p",{children:["level ",t.level," ",t.class]}),Object(B.jsx)("p",{children:t.race}),Object(B.jsx)("button",{onClick:function(e){e.preventDefault(),n("/character/"+t.id)},children:"Edit"})]})},$=function(e){var t=e.p,n=Object(b.g)();return Object(B.jsxs)("div",{className:"card",children:[Object(B.jsx)("h5",{children:t.name}),t.characters.map((function(e){return Object(B.jsxs)("p",{children:[e.name,": level ",e.level," ",e.class]},e.id)})),Object(B.jsx)("button",{onClick:function(e){e.preventDefault(),n("/party/"+t.id)},children:"Edit"})]})},_=function(e){var t=e.parties;return 0===t.length?null:Object(B.jsx)("div",{children:Object(B.jsx)("div",{className:"cardContainer",children:t.map((function(e){return Object(B.jsx)($,{p:e},e.id)}))})})},ee=function(e){var t=e.f;return Object(B.jsx)("li",{children:Object(B.jsx)(E.b,{to:"/user/"+t.id,children:t.username})},t.id)},te=function(e){var t=e.user,n=e.token,c=Object(r.useState)(""),a=Object(l.a)(c,2),s=a[0],i=a[1];if(""===t)return Object(B.jsx)("div",{children:"loading..."});var u=t.dateCreated.split("T")[0];return Object(B.jsxs)("div",{id:t.username,children:[Object(B.jsx)("h2",{children:t.username}),Object(B.jsxs)("p",{className:"lighterText",children:["User since ",Object(B.jsx)("time",{dateTime:u,children:u})]}),Object(B.jsx)("h3",{children:"Friends:"}),Object(B.jsx)("ul",{children:t.friends.map((function(e){return Object(B.jsx)(ee,{f:e},e.id)}))}),Object(B.jsx)("h3",{children:"Friend requests:"}),Object(B.jsx)("p",{children:s}),Object(B.jsx)("ul",{children:t.friendRequests.map((function(e){return Object(B.jsx)(Y,{r:e,user:t,setNotif:i,token:n},e.id)}))}),Object(B.jsx)(E.b,{to:"/user/all",children:"Look for users"}),Object(B.jsx)("h3",{children:"Characters:"}),Object(B.jsx)(E.b,{to:"/character/new",children:"Create a new character"}),Object(B.jsx)("div",{className:"cardContainer",children:t.characters.map((function(e){return Object(B.jsx)(Z,{c:e},e.id)}))}),Object(B.jsx)("h3",{children:"Parties:"}),Object(B.jsx)(E.b,{to:"/party/new",children:"Create a new Party"}),Object(B.jsx)(_,{parties:t.creations.parties}),Object(B.jsx)(b.a,{})]})},ne=function(e){var t=e.token,n=e.user,c=e.friendId,a=Object(r.useState)(""),s=Object(l.a)(a,2),i=s[0],u=s[1],j=n.creations.parties;if(0===(j=j.filter((function(e){return!e.users.includes(c)}))).length)return Object(B.jsx)(B.Fragment,{});return Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==i&&V.addUserToParty(i,c,t,n.id)},className:"formHorPart",children:[Object(B.jsxs)("select",{name:"Party",onChange:function(e){var t=e.target;return u(t.value)},defaultValue:"",children:[j.map((function(e){return Object(B.jsx)("option",{value:e.id,children:e.name},e.id)})),Object(B.jsx)("option",{value:"",children:"Select a Party"})]}),Object(B.jsx)("button",{type:"submit",children:"Add to Party"})]})},re=function(e){var t=e.token,n=e.userId,c=e.user,a=Object(b.h)().partyId,s=Object(r.useState)(!0),i=Object(l.a)(s,2),o=i[0],d=i[1],O=Object(r.useState)(""),p=Object(l.a)(O,2),h=p[0],x=p[1],m=Object(r.useState)([]),f=Object(l.a)(m,2),v=f[0],S=f[1],y=Object(r.useState)([]),k=Object(l.a)(y,2),w=k[0],F=k[1],P=Object(r.useState)([]),C=Object(l.a)(P,2),N=C[0],I=C[1],q=Object(r.useState)([]),A=Object(l.a)(q,2),H=A[0],D=A[1],E=Object(b.g)();Object(r.useEffect)((function(){L(),T(),R()}),[]);var L=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("new"!==a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,V.getParty(a);case 4:t=e.sent,x(t.name),S(t.characters),F(t.users),d(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){I(c.characters)},R=function(){var e=c.friends;e=e.map((function(e){return{name:e.username,id:e.id}})),D(e)},U=function(){var e=Object(j.a)(u.a.mark((function e(r){var c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),c={name:h,characters:v.map((function(e){return e.id})),users:[].concat(Object(g.a)(w.map((function(e){return e.id}))),[n]),id:o?"":a,userId:n},!0!==o){e.next=8;break}return e.next=5,V.createParty(c,t);case 5:e.sent,e.next=11;break;case 8:return e.next=10,V.updateParty(c,t);case 10:e.sent;case 11:E("/myProfile");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsx)("h3",{children:"Create a Party"}),Object(B.jsxs)("form",{onSubmit:U,className:"formContainer",children:[Object(B.jsx)("div",{className:"formHorPart",children:Object(B.jsx)(Q,{label:"Name",type:"text",value:h,setFunction:x})}),Object(B.jsx)("div",{className:"formHorPart",children:Object(B.jsx)(K,{field:"Characters",optionsList:N,listValue:v,listSetFunction:S,oneValue:!0})}),Object(B.jsx)("div",{className:"formHorPart",children:Object(B.jsx)(K,{field:"Other users",optionsList:H,listValue:w,listSetFunction:F,oneValue:!0})}),Object(B.jsx)("button",{type:"submit",children:"Submit"})]})]})},ce=function(e){var t=e.user,n=e.token,c=Object(b.h)().id,a=Object(b.g)(),s=Object(r.useState)(""),i=Object(l.a)(s,2),o=i[0],d=i[1],O=Object(r.useState)(!1),p=Object(l.a)(O,2),h=p[0],x=p[1],m=Object(r.useState)(!1),f=Object(l.a)(m,2),v=f[0],g=f[1],y=Object(r.useState)(!1),k=Object(l.a)(y,2),w=k[0],F=k[1],P=Object(r.useState)([]),C=Object(l.a)(P,2),N=C[0],I=C[1];Object(r.useEffect)((function(){q()}),[]);var q=function(){var e=Object(j.a)(u.a.mark((function e(){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c!==t.id){e.next=3;break}return a("/myProfile"),e.abrupt("return");case 3:return e.next=5,S.getOtherUser(c);case 5:n=e.sent,d(n),t.friends.forEach((function(e){e.id===c&&x(!0)})),t.friendRequests.forEach((function(e){e.sender.id===c&&g(!0)})),t.sentFriendRequests.forEach((function(e){e.receiver.id===c&&F(!0)})),(r=n.friends).forEach((function(e){t.friends.includes(e)||(e="")})),I(r.filter((function(e){return""!==e})));case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={senderId:t.id,receiverId:c},e.next=3,S.sendFriendRequest(r,n);case 3:e.sent,F(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return""===o?Object(B.jsx)("div",{children:Object(B.jsx)("p",{children:"Loading..."})}):Object(B.jsxs)("div",{children:[Object(B.jsxs)("h2",{children:["User ",o.username]}),h?Object(B.jsx)("p",{children:"A friend!"}):v?Object(B.jsx)("button",{children:"Accept friendRequest"}):w?Object(B.jsx)("p",{children:"Sent friendrequest"}):Object(B.jsx)("button",{onClick:A,children:"Send friendrequest"}),h?Object(B.jsx)(ne,{token:n,user:t,friendId:c}):Object(B.jsx)(B.Fragment,{}),Object(B.jsx)("h3",{children:"Common friends"}),N.map((function(e){return Object(B.jsx)("p",{children:e.username},e.id)})),Object(B.jsx)("h3",{children:"Characters"}),o.characters.map((function(e){return Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{children:e.name}),", a ",e.race,", level ",e.level," ",e.class]},e.id)})),Object(B.jsx)("h3",{children:"Common parties"}),o.creations.parties.map((function(e){return Object(B.jsx)("p",{children:e.name},e.id)}))]})},ae=function(e){Object(U.a)(e);var t=Object(r.useState)([]),n=Object(l.a)(t,2),c=n[0],a=n[1];Object(r.useEffect)((function(){s()}),[]);var s=function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.getAll();case 2:(t=e.sent).forEach((function(e){var t=e.dateCreated.split("T")[0];e.dateCreated=t})),a(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c===[]?Object(B.jsx)("div",{children:Object(B.jsx)("p",{children:"loading..."})}):Object(B.jsx)("div",{children:c.map((function(e){return Object(B.jsxs)("p",{children:[Object(B.jsx)(E.b,{to:"/user/"+e.id,children:e.username}),", user since ",e.dateCreated]},e.id)}))})},se=function(e){var t=e.token,n=Object(b.h)().characterId,c=Object(r.useState)(""),a=Object(l.a)(c,2),s=a[0],i=a[1],o=Object(b.g)();Object(r.useEffect)((function(){d()}),[]);var d=function(){var e=Object(j.a)(u.a.mark((function e(){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getCharacter(n,t);case 2:r=e.sent,i(r);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return""===s?Object(B.jsx)("div",{children:Object(B.jsx)("p",{children:"loading..."})}):Object(B.jsxs)("div",{children:[Object(B.jsxs)("div",{className:"formHorPart",children:[Object(B.jsx)("h2",{children:s.name}),Object(B.jsxs)("p",{children:["Player:",Object(B.jsx)(E.b,{to:"/user/"+s.creator.id,children:s.creator.username})]})]}),Object(B.jsxs)("div",{className:"formHorPart",children:[Object(B.jsxs)("p",{children:["Class & level: ",s.class," ",s.level]}),Object(B.jsxs)("p",{children:["Background: ",s.background]}),Object(B.jsxs)("p",{children:["Race: ",s.race]}),Object(B.jsxs)("p",{children:["Personality traits: ",s.personalityTraits]}),Object(B.jsxs)("p",{children:["Alignment: ",s.alignment]}),Object(B.jsxs)("p",{children:["Experience points: ",s.experiencePoints]})]}),Object(B.jsxs)("div",{className:"formHorPart",children:[Object(B.jsxs)("p",{children:["Health: ",s.currentHealth," / ",s.maxHealth]}),Object(B.jsxs)("p",{children:["Hit dice: ",s.hitDice]}),Object(B.jsxs)("p",{children:["Armor class: ",s.armorClass]}),Object(B.jsxs)("p",{children:["Intiative: ",s.initiative]}),Object(B.jsxs)("p",{children:["Speed: ",s.speed," feet"]})]}),Object(B.jsxs)("div",{className:"formHorPart",children:[Object(B.jsxs)("p",{children:["Strength: ",s.strength]}),Object(B.jsxs)("p",{children:["Dexterity: ",s.dexterity]}),Object(B.jsxs)("p",{children:["Constitution: ",s.constitution]}),Object(B.jsxs)("p",{children:["Intelligence: ",s.intelligence]}),Object(B.jsxs)("p",{children:["Wisdom: ",s.wisdom]}),Object(B.jsxs)("p",{children:["Charisma: ",s.charisma]}),Object(B.jsxs)("p",{children:["Passive wisdom: ",s.passiveWisdom]})]}),Object(B.jsxs)("div",{className:"formVerPart",children:[Object(B.jsxs)("p",{children:["Proficiency bonus: ",s.proficiencyBonus]}),Object(B.jsxs)("div",{children:[Object(B.jsx)("h5",{children:"Skills:"}),Object(B.jsx)("div",{className:"formHorPart",children:s.proficientSkills.map((function(e){return Object(B.jsx)("p",{children:e},e)}))})]})]}),Object(B.jsxs)("div",{className:"formVerPart",children:[Object(B.jsx)("h5",{children:"Proficiencies:"}),s.otherProficiencies.map((function(e){return Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{children:e.name}),": ",e.description]},e.name)})),Object(B.jsx)("h5",{children:"Languages:"}),Object(B.jsx)("p",{children:s.languages.map((function(e){return Object(B.jsxs)("span",{children:[e," "]},e)}))})]}),Object(B.jsxs)("div",{className:"formHorPart",children:[Object(B.jsxs)("p",{children:["Copper: ",s.coins.copper]}),Object(B.jsxs)("p",{children:["Silver: ",s.coins.silver]}),Object(B.jsxs)("p",{children:["Electrum: ",s.coins.electrum]}),Object(B.jsxs)("p",{children:["Gold: ",s.coins.gold]}),Object(B.jsxs)("p",{children:["Platinum: ",s.coins.platinum]})]}),Object(B.jsxs)("div",{className:"formVerPart",children:[Object(B.jsx)("h5",{children:"Equipment:"}),s.equipment.map((function(e){return Object(B.jsxs)("p",{className:"card",children:[Object(B.jsx)("h5",{children:e.name}),Object(B.jsx)("p",{children:e.description})]},e.id)}))]}),Object(B.jsxs)("div",{className:"formVerPart",children:[Object(B.jsx)("h5",{children:"Weapons:"}),s.weapons.map((function(e){return Object(B.jsxs)("div",{className:"card",children:[Object(B.jsx)("h5",{children:e.name}),Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{children:"ATK Bonus:"})," ",e.atkBonus]}),Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{children:"Damage / Type:"})," ",e.damage]}),Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{children:"Description:"})," ",e.description]})]},e.id)}))]}),Object(B.jsxs)("div",{className:"formVerPart",children:[Object(B.jsx)("h5",{children:"Spells:"}),s.spells.map((function(e){return Object(B.jsxs)("div",{className:"card",children:[Object(B.jsx)("h5",{children:e.name}),Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{children:"Level:"})," ",e.level]}),Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{children:"Description:"})," ",e.description]})]},e.id)})),Object(B.jsxs)("p",{children:[Object(B.jsx)("b",{children:"Spellcasting ability:"})," ",s.spellCastingAbility]})]}),Object(B.jsxs)("div",{className:"formVerPart",children:[Object(B.jsx)("h5",{children:"Features:"}),s.features.map((function(e){return Object(B.jsxs)("div",{children:[Object(B.jsx)("h5",{children:e.name}),Object(B.jsx)("p",{children:e.description})]},e.name)}))]}),Object(B.jsxs)("div",{className:"card",children:[Object(B.jsx)("h5",{children:"Notes:"}),Object(B.jsx)("ul",{children:s.notes.map((function(e){return Object(B.jsx)("li",{children:e})}))})]}),Object(B.jsx)("button",{onClick:function(e){e.preventDefault(),o("/character/"+n)},children:"Edit character"})]})},ie=function(e){var t=e.userId,n=e.token,c=e.equipList,a=e.setEquipList,s=Object(r.useState)(""),i=Object(l.a)(s,2),b=i[0],o=i[1],d=Object(r.useState)(""),O=Object(l.a)(d,2),p=O[0],h=O[1],x=Object(r.useState)([]),m=Object(l.a)(x,2),f=m[0],v=m[1],S=function(){var e=Object(j.a)(u.a.mark((function e(r){var s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),s={name:b,description:p,itemType:"Equipment",userId:t},e.next=4,V.createItem(s,n);case 4:i=e.sent,v([].concat(Object(g.a)(f),[i])),a([].concat(Object(g.a)(c),[i])),o(""),h("");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsxs)("form",{onSubmit:S,children:[Object(B.jsx)("h4",{children:"Create new Equipment"}),Object(B.jsx)(Q,{label:"Name",type:"text",value:b,setFunction:o,required:!0}),Object(B.jsx)(Q,{label:"Description",type:"text",value:p,setFunction:h,required:!0}),Object(B.jsx)("button",{type:"Submit",children:"Create"})]}),Object(B.jsx)("p",{children:Object(B.jsx)("b",{children:"Created equipment:"})}),f.map((function(e){return Object(B.jsxs)("p",{children:[Object(B.jsx)("i",{children:e.name}),": ",e.description]},e.id)}))]})},ue=function(e){var t=e.userId,n=e.token,c=e.spellsList,a=e.setSpellsList,s=Object(r.useState)(""),i=Object(l.a)(s,2),b=i[0],o=i[1],d=Object(r.useState)(""),O=Object(l.a)(d,2),p=O[0],h=O[1],x=Object(r.useState)(""),m=Object(l.a)(x,2),f=m[0],v=m[1],S=Object(r.useState)(""),y=Object(l.a)(S,2),k=y[0],w=y[1],F=Object(r.useState)(""),P=Object(l.a)(F,2),C=P[0],N=P[1],I=Object(r.useState)("0"),q=Object(l.a)(I,2),A=q[0],H=q[1],D=Object(r.useState)("0"),E=Object(l.a)(D,2),L=E[0],T=E[1],R=Object(r.useState)("0"),U=Object(l.a)(R,2),W=U[0],z=U[1],G=[],J=Object(r.useState)(""),K=Object(l.a)(J,2),X=K[0],Y=K[1],Z=Object(r.useState)("0"),$=Object(l.a)(Z,2),_=$[0],ee=$[1],te=Object(r.useState)([]),ne=Object(l.a)(te,2),re=ne[0],ce=ne[1],ae=function(){var e=Object(j.a)(u.a.mark((function e(r){var s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),"0"!==A&&G.push("Verbal"),"0"!==L&&G.push("Somatic"),"0"!==W&&G.push("Material"),s={name:b,description:p,level:f,castingTime:k,range:C,components:G,duration:{minutes:X,isConcentration:""!==_},itemType:"Spell",userId:t},e.next=7,V.createItem(s,n);case 7:i=e.sent,ce([].concat(Object(g.a)(re),[i])),a([].concat(Object(g.a)(c),[i])),o(""),h(""),v(""),w(""),N(""),G=[],H("0"),T("0"),z("0"),Y(""),ee("0");case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsxs)("form",{onSubmit:ae,children:[Object(B.jsx)("h4",{children:"Create new Spell"}),Object(B.jsx)(Q,{label:"Name",type:"text",value:b,setFunction:o,required:!0}),Object(B.jsx)(Q,{label:"Description",type:"text",value:p,setFunction:h,required:!0}),Object(B.jsx)(Q,{label:"Level",type:"number",value:f,setFunction:v,min:"0",required:!0}),Object(B.jsx)(Q,{label:"Casting Time",type:"text",value:k,setFunction:w,required:!0}),Object(B.jsx)(Q,{label:"Spell Range",type:"number",value:C,setFunction:N,min:"0",required:!0}),Object(B.jsxs)("div",{children:[Object(B.jsx)("h5",{children:"Needed components"}),Object(B.jsx)(M,{title:"Verbal",label:"Verbal",value:A,setFunction:H}),Object(B.jsx)(M,{title:"Somatic",label:"Somatic",value:L,setFunction:T}),Object(B.jsx)(M,{title:"Material",label:"Material",value:W,setFunction:z})]}),Object(B.jsx)(Q,{label:"Duration, minutes",type:"number",value:X,setFunction:Y,min:"0",required:!0}),Object(B.jsx)(M,{title:"concentration",label:"Is Concentration",value:_,setFunction:ee,required:!0}),Object(B.jsx)("button",{type:"Submit",children:"Create"})]}),Object(B.jsx)("p",{children:Object(B.jsx)("b",{children:"Created spells:"})}),re.map((function(e){return Object(B.jsxs)("p",{children:[Object(B.jsx)("i",{children:e.name}),": ",e.description]},e.id)}))]})},je=function(e){var t=e.userId,n=e.token,c=e.weaponsList,a=e.setWeaponsList,s=Object(r.useState)(""),i=Object(l.a)(s,2),b=i[0],o=i[1],d=Object(r.useState)(""),O=Object(l.a)(d,2),p=O[0],h=O[1],x=Object(r.useState)(""),m=Object(l.a)(x,2),f=m[0],v=m[1],S=Object(r.useState)(""),y=Object(l.a)(S,2),k=y[0],w=y[1],F=Object(r.useState)(""),P=Object(l.a)(F,2),C=P[0],N=P[1],I=Object(r.useState)([]),q=Object(l.a)(I,2),A=q[0],H=q[1],D=function(){var e=Object(j.a)(u.a.mark((function e(r){var s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),s={name:b,description:p,atkBonus:f,damage:k,range:C,itemType:"Weapon",userId:t},e.next=4,V.createItem(s,n);case 4:i=e.sent,H([].concat(Object(g.a)(A),[i])),a([].concat(Object(g.a)(c),[i])),o(""),h(""),v(""),w(""),N("");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[Object(B.jsxs)("form",{onSubmit:D,children:[Object(B.jsx)("h4",{children:"Create new Weapon"}),Object(B.jsx)(Q,{label:"Name",type:"text",value:b,setFunction:o,required:!0}),Object(B.jsx)(Q,{label:"Description",type:"text",value:p,setFunction:h,required:!0}),Object(B.jsx)(Q,{label:"Attack Bonus",type:"number",value:f,setFunction:v,min:"0",required:!0}),Object(B.jsx)(Q,{label:"Damage and Type",type:"text",value:k,setFunction:w,required:!0}),Object(B.jsx)(Q,{label:"Attack Range",type:"number",value:C,setFunction:N,min:"0",required:!0}),Object(B.jsx)("button",{type:"Submit",children:"Create"})]}),Object(B.jsx)("p",{children:Object(B.jsx)("b",{children:"Created weapons:"})}),A.map((function(e){return Object(B.jsxs)("p",{children:[Object(B.jsx)("i",{children:e.name}),": ",e.description]},e.id)}))]})},le=function(e){var t=e.token,n=e.userId,c=e.handleSubmitToBackend,a=e.userCreations,s=Object(b.h)(),i=s.characterId,o=Object(r.useState)(!0),d=Object(l.a)(o,2),O=d[0],p=d[1],h=Object(r.useState)(""),x=Object(l.a)(h,2),m=x[0],f=x[1],v=Object(r.useState)(""),S=Object(l.a)(v,2),g=S[0],y=S[1],k=Object(r.useState)(""),w=Object(l.a)(k,2),F=w[0],P=w[1],C=Object(r.useState)(""),N=Object(l.a)(C,2),I=N[0],q=N[1],A=Object(r.useState)(""),H=Object(l.a)(A,2),D=H[0],E=H[1],L=Object(r.useState)(""),T=Object(l.a)(L,2),R=T[0],U=T[1],W=Object(r.useState)(""),z=Object(l.a)(W,2),X=z[0],Y=z[1],Z=Object(r.useState)(""),$=Object(l.a)(Z,2),_=$[0],ee=$[1],te=Object(r.useState)(""),ne=Object(l.a)(te,2),re=ne[0],ce=ne[1],ae=Object(r.useState)(""),se=Object(l.a)(ae,2),le=se[0],be=se[1],oe=Object(r.useState)(""),de=Object(l.a)(oe,2),Oe=de[0],pe=de[1],he=Object(r.useState)(""),xe=Object(l.a)(he,2),me=xe[0],fe=xe[1],ve=Object(r.useState)(""),Se=Object(l.a)(ve,2),ge=Se[0],ye=Se[1],ke=Object(r.useState)(""),we=Object(l.a)(ke,2),Fe=we[0],Pe=we[1],Ce=Object(r.useState)(""),Ne=Object(l.a)(Ce,2),Ie=Ne[0],qe=Ne[1],Ae=Object(r.useState)(""),He=Object(l.a)(Ae,2),De=He[0],Ve=He[1],Ee=Object(r.useState)(""),Le=Object(l.a)(Ee,2),Te=Le[0],Be=Le[1],Re=Object(r.useState)(""),Ue=Object(l.a)(Re,2),We=Ue[0],ze=Ue[1],Me=Object(r.useState)(""),Ge=Object(l.a)(Me,2),Je=Ge[0],Ke=Ge[1],Qe=Object(r.useState)(""),Xe=Object(l.a)(Qe,2),Ye=Xe[0],Ze=Xe[1],$e=Object(r.useState)(""),_e=Object(l.a)($e,2),et=_e[0],tt=_e[1],nt=Object(r.useState)("0"),rt=Object(l.a)(nt,2),ct=rt[0],at=rt[1],st=Object(r.useState)("0"),it=Object(l.a)(st,2),ut=it[0],jt=it[1],lt=Object(r.useState)("0"),bt=Object(l.a)(lt,2),ot=bt[0],dt=bt[1],Ot=Object(r.useState)("0"),pt=Object(l.a)(Ot,2),ht=pt[0],xt=pt[1],mt=Object(r.useState)("0"),ft=Object(l.a)(mt,2),vt=ft[0],St=ft[1],gt=Object(r.useState)("0"),yt=Object(l.a)(gt,2),kt=yt[0],wt=yt[1],Ft=Object(r.useState)("0"),Pt=Object(l.a)(Ft,2),Ct=Pt[0],Nt=Pt[1],It=Object(r.useState)("0"),qt=Object(l.a)(It,2),At=qt[0],Ht=qt[1],Dt=Object(r.useState)("0"),Vt=Object(l.a)(Dt,2),Et=Vt[0],Lt=Vt[1],Tt=Object(r.useState)("0"),Bt=Object(l.a)(Tt,2),Rt=Bt[0],Ut=Bt[1],Wt=Object(r.useState)("0"),zt=Object(l.a)(Wt,2),Mt=zt[0],Gt=zt[1],Jt=Object(r.useState)("0"),Kt=Object(l.a)(Jt,2),Qt=Kt[0],Xt=Kt[1],Yt=Object(r.useState)("0"),Zt=Object(l.a)(Yt,2),$t=Zt[0],_t=Zt[1],en=Object(r.useState)("0"),tn=Object(l.a)(en,2),nn=tn[0],rn=tn[1],cn=Object(r.useState)("0"),an=Object(l.a)(cn,2),sn=an[0],un=an[1],jn=Object(r.useState)("0"),ln=Object(l.a)(jn,2),bn=ln[0],on=ln[1],dn=Object(r.useState)("0"),On=Object(l.a)(dn,2),pn=On[0],hn=On[1],xn=Object(r.useState)("0"),mn=Object(l.a)(xn,2),fn=mn[0],vn=mn[1],Sn=Object(r.useState)([]),gn=Object(l.a)(Sn,2),yn=gn[0],kn=gn[1],wn=Object(r.useState)([]),Fn=Object(l.a)(wn,2),Pn=Fn[0],Cn=Fn[1],Nn=Object(r.useState)([]),In=Object(l.a)(Nn,2),qn=In[0],An=In[1],Hn=Object(r.useState)([]),Dn=Object(l.a)(Hn,2),Vn=Dn[0],En=Dn[1],Ln=Object(r.useState)(""),Tn=Object(l.a)(Ln,2),Bn=Tn[0],Rn=Tn[1],Un=Object(r.useState)([]),Wn=Object(l.a)(Un,2),zn=Wn[0],Mn=Wn[1],Gn=Object(r.useState)([]),Jn=Object(l.a)(Gn,2),Kn=Jn[0],Qn=Jn[1],Xn=Object(r.useState)([]),Yn=Object(l.a)(Xn,2),Zn=Yn[0],$n=Yn[1],_n=Object(r.useState)(0),er=Object(l.a)(_n,2),tr=er[0],nr=er[1],rr=Object(r.useState)(0),cr=Object(l.a)(rr,2),ar=cr[0],sr=cr[1],ir=Object(r.useState)(0),ur=Object(l.a)(ir,2),jr=ur[0],lr=ur[1],br=Object(r.useState)(0),or=Object(l.a)(br,2),dr=or[0],Or=or[1],pr=Object(r.useState)(0),hr=Object(l.a)(pr,2),xr=hr[0],mr=hr[1],fr=Object(r.useState)([]),vr=Object(l.a)(fr,2),Sr=vr[0],gr=vr[1],yr=Object(r.useState)([]),kr=Object(l.a)(yr,2),wr=kr[0],Fr=kr[1],Pr=Object(r.useState)([]),Cr=Object(l.a)(Pr,2),Nr=Cr[0],Ir=Cr[1],qr=Object(r.useState)([]),Ar=Object(l.a)(qr,2),Hr=Ar[0],Dr=Ar[1],Vr=Object(b.g)();Object(r.useEffect)((function(){Er(),Lr()}),[]);var Er=function(){var e=Object(j.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="","new"!==i){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,V.getCharacter(i,t);case 6:n=e.sent,e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(3),e.abrupt("return");case 12:p(!1),f(n.name),y(n.race),P(n.class),q(n.level),E(n.experiencePoints),U(n.background),Y(n.personalityTraits),ee(n.alignment),ce(n.maxHealth),be(n.hitDice),pe(n.armorClass),fe(n.initiative),ye(n.speed),Pe(n.strength),qe(n.dexterity),Ve(n.constitution),Be(n.intelligence),ze(n.wisdom),Ke(n.charisma),Ze(n.passiveWisdom),tt(n.proficiencyBonus),n.proficientSkills.forEach((function(e){switch(e){case"Acrobatics":at("Acrobatics");break;case"Animal Handling":jt("Animal Handling");break;case"Arcana":dt("Arcana");break;case"Athletics":xt("Athletics");break;case"Deception":St("Deception");break;case"History":wt("History");break;case"Insight":Nt("Insight");break;case"Intimidation":Ht("Intimidation");break;case"Investigation":Lt("Investigation");break;case"Medicine":Ut("Medicine");break;case"Nature":Gt("Nature");break;case"Perception":Xt("Perception");break;case"Performance":_t("Performance");break;case"Persuasion":rn("Persuasion");break;case"Religion":un("Religion");break;case"Sleight of Hand":on("Sleight of Hand");break;case"Stealth":hn("Stealth");break;case"Survival":vn("Survival")}})),kn(n.languages),Cn(n.otherProficiencies),An(n.features),En(n.weapons),Rn(n.spellCastingAbility),Mn(n.spells),Qn(n.equipment),$n(n.storage),nr(n.coins.copper),sr(n.coins.silver),lr(n.coins.gold),Or(n.coins.platinum),mr(n.coins.electrum),gr(n.notes);case 50:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(){return e.apply(this,arguments)}}(),Lr=function(){var e=Object(j.a)(u.a.mark((function e(){var t,n,r,c,s,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.getEquipment();case 2:return t=e.sent,n=t.concat(a.equipment),Fr(n),e.next=7,V.getSpells();case 7:return r=e.sent,c=r.concat(a.spells),Ir(c),e.next=12,V.getWeapons();case 12:s=e.sent,i=s.concat(a.weapons),Dr(i);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(B.jsxs)("div",{children:[O?Object(B.jsx)("h2",{children:"Create New Character"}):Object(B.jsxs)("h2",{children:["Edit Character ",Object(B.jsx)("i",{children:m})]}),Object(B.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=[ct,ut,ot,ht,vt,kt,Ct,At,Et,Rt,Mt,Qt,$t,nn,sn,bn,pn,fn];t=t.filter((function(e){return"0"!==e}));var r={userId:n,characterId:i,name:m,race:g,class:F,level:I,experiencePoints:D,background:R,personalityTraits:X,alignment:_,maxHealth:re,hitDice:le,armorClass:Oe,initiative:me,speed:ge,strength:Fe,dexterity:Ie,constitution:De,intelligence:Te,wisdom:We,charisma:Je,passiveWisdom:Ye,proficiencyBonus:et,proficientSkills:t,languages:yn,otherProficiencies:Pn,weapons:Vn.map((function(e){return e.id})),spellCastingAbility:Bn,spells:zn.map((function(e){return e.id})),equipment:Kn.map((function(e){return e.id})),storage:Zn.map((function(e){return e.id})),features:qn,coins:{copper:tr,silver:ar,gold:jr,platinum:dr,electrum:xr},notes:Sr};c(r,O),Vr("/myProfile")},className:"formContainer",children:[Object(B.jsx)("div",{className:"formHorPart",children:Object(B.jsx)(Q,{type:"text",label:"Name",value:m,setFunction:f,required:!0})}),Object(B.jsxs)("div",{className:"formHorPart",children:[Object(B.jsx)(Q,{type:"text",label:"Race",value:g,setFunction:y}),Object(B.jsx)(Q,{type:"text",label:"Class",value:F,setFunction:P}),Object(B.jsx)(Q,{type:"number",label:"Level",value:I,setFunction:q,min:"0",max:"100"}),Object(B.jsx)(Q,{type:"number",label:"Experience Points",value:D,setFunction:E,min:"0",required:!0})]}),Object(B.jsxs)("div",{className:"formHorPart",children:[Object(B.jsx)(Q,{type:"text",label:"Background",value:R,setFunction:U}),Object(B.jsx)(Q,{type:"text",label:"Personality",value:X,setFunction:Y}),Object(B.jsx)(Q,{type:"text",label:"Alignment",value:_,setFunction:ee})]}),Object(B.jsxs)("div",{className:"formHorPart",children:[Object(B.jsx)(Q,{type:"number",label:"Hit Points",value:re,setFunction:ce,min:"0"}),Object(B.jsx)(Q,{type:"text",label:"Hit Dice",value:le,setFunction:be}),Object(B.jsx)(Q,{type:"number",label:"Armor Class",value:Oe,setFunction:pe,min:"0",max:"20"}),Object(B.jsx)(Q,{type:"number",label:"Initiative",value:me,setFunction:fe,min:"-20",max:"20"}),Object(B.jsx)(Q,{type:"number",label:"Speed",value:ge,setFunction:ye,min:"0"})]}),Object(B.jsxs)("div",{className:"formVerPart",children:[Object(B.jsx)(Q,{type:"number",label:"Strength",value:Fe,setFunction:Pe,min:"0",max:"20"}),Object(B.jsx)(Q,{type:"number",label:"Dexterity",value:Ie,setFunction:qe,min:"0",max:"20"}),Object(B.jsx)(Q,{type:"number",label:"Constitution",value:De,setFunction:Ve,min:"0",max:"20"}),Object(B.jsx)(Q,{type:"number",label:"Intelligence",value:Te,setFunction:Be,min:"0",max:"20"}),Object(B.jsx)(Q,{type:"number",label:"Wisdom",value:We,setFunction:ze,min:"0",max:"20"}),Object(B.jsx)(Q,{type:"number",label:"Charisma",value:Je,setFunction:Ke,min:"0",max:"20"}),Object(B.jsx)(Q,{type:"number",label:"Passive Wisdom",value:Ye,setFunction:Ze,min:"0",max:"20"}),Object(B.jsx)(Q,{type:"number",label:"Proficiency Bonus",value:et,setFunction:tt,min:"0",max:"20"})]}),Object(B.jsxs)("div",{className:"formVerPart",children:[Object(B.jsx)("h4",{children:"Proficiencies"}),Object(B.jsx)(M,{title:"Acrobatics",label:"Acrobatics",value:ct,setFunction:at}),Object(B.jsx)(M,{title:"AnimalHandling",label:"Animal Handling",value:ut,setFunction:jt}),Object(B.jsx)(M,{title:"Arcana",label:"Arcana",value:ot,setFunction:dt}),Object(B.jsx)(M,{title:"Athletics",label:"Athletics",value:ht,setFunction:xt}),Object(B.jsx)(M,{title:"Deception",label:"Deception",value:vt,setFunction:St}),Object(B.jsx)(M,{title:"History",label:"History",value:kt,setFunction:wt}),Object(B.jsx)(M,{title:"Insight",label:"Insight",value:Ct,setFunction:Nt}),Object(B.jsx)(M,{title:"Intimidation",label:"Intimidation",value:At,setFunction:Ht}),Object(B.jsx)(M,{title:"Investigation",label:"Investigation",value:Et,setFunction:Lt}),Object(B.jsx)(M,{title:"Medicine",label:"Medicine",value:Rt,setFunction:Ut}),Object(B.jsx)(M,{title:"Nature",label:"Nature",value:Mt,setFunction:Gt}),Object(B.jsx)(M,{title:"Perception",label:"Perception",value:Qt,setFunction:Xt}),Object(B.jsx)(M,{title:"Performance",label:"Performance",value:$t,setFunction:_t}),Object(B.jsx)(M,{title:"Persuasion",label:"Persuasion",value:nn,setFunction:rn}),Object(B.jsx)(M,{title:"Religion",label:"Religion",value:sn,setFunction:un}),Object(B.jsx)(M,{title:"SleightOfHand",label:"Sleight of Hand",value:bn,setFunction:on}),Object(B.jsx)(M,{title:"Stealth",label:"Stealth",value:pn,setFunction:hn}),Object(B.jsx)(M,{title:"Survival",label:"Survival",value:fn,setFunction:vn})]}),Object(B.jsx)("div",{className:"formVerPart",children:Object(B.jsx)(J,{listHeader:"Languages",label:"New Language",listValue:yn,listSetFunction:kn})}),Object(B.jsx)("div",{className:"formVerPart",children:Object(B.jsx)(G,{listHeader:"Other Proficiencies",listValue:Pn,listSetFunction:Cn})}),Object(B.jsxs)("div",{className:"formVerPart",children:[Object(B.jsx)(Q,{type:"text",label:"Spell Casting Ability",value:Bn,setFunction:Rn}),Object(B.jsx)(K,{field:"Spells",optionsList:Nr,listValue:zn,listSetFunction:Mn})]}),Object(B.jsx)("div",{className:"formVerPart",children:Object(B.jsx)(K,{field:"Equipment",optionsList:wr,listValue:Kn,listSetFunction:Qn})}),Object(B.jsx)("div",{className:"formVerPart",children:Object(B.jsx)(K,{field:"Weapons",optionsList:Hr,listValue:Vn,listSetFunction:En})}),Object(B.jsx)("div",{className:"formVerPart",children:Object(B.jsx)(G,{listHeader:"Features",listValue:qn,listSetFunction:An})}),Object(B.jsxs)("div",{className:"formVerPart",children:[Object(B.jsx)("h4",{children:"Coins"}),Object(B.jsx)(Q,{type:"Number",label:"Copper",value:tr,setFunction:nr,min:"0"}),Object(B.jsx)(Q,{type:"Number",label:"Silver",value:ar,setFunction:sr,min:"0"}),Object(B.jsx)(Q,{type:"Number",label:"Gold",value:jr,setFunction:lr,min:"0"}),Object(B.jsx)(Q,{type:"Number",label:"Platinum",value:dr,setFunction:Or,min:"0"}),Object(B.jsx)(Q,{type:"Number",label:"Electrum",value:xr,setFunction:mr,min:"0"})]}),Object(B.jsx)("div",{className:"formVerPart",children:Object(B.jsx)(J,{listHeader:"Notes",label:"New Note",listValue:Sr,listSetFunction:gr})}),Object(B.jsx)("button",{type:"submit",children:"Submit"})]}),Object(B.jsxs)("div",{className:"formContainer",children:[Object(B.jsx)("div",{className:"formHorPart",children:Object(B.jsx)(ie,{userId:n,token:t,equipList:wr,setEquipList:Fr})}),Object(B.jsx)("div",{className:"formHorPart",children:Object(B.jsx)(ue,{userId:n,token:t,spellsList:Nr,setSpellsList:Ir})}),Object(B.jsx)("div",{className:"formHorPart",children:Object(B.jsx)(je,{userId:n,token:t,weaponsList:Hr,setWeaponsList:Dr})})]})]})};var be=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(""),s=Object(l.a)(a,2),i=s[0],o=s[1],d=(Object(b.g)(),function(){var e=Object(j.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(n),""===t){e.next=8;break}return e.next=4,S.getUser(t,n);case 4:r=e.sent,o(r),e.next=9;break;case 8:o("");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return""===i?Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{className:"frontPage",children:"TTRPG Parties"}),Object(B.jsxs)("div",{className:"formHorPart",children:[Object(B.jsx)(R,{setFunction:d,user:i}),Object(B.jsx)(X,{})]})]}):Object(B.jsxs)("div",{children:[Object(B.jsx)("h1",{className:"siteName",children:"TTRPG Parties"}),Object(B.jsx)(R,{setFunction:d,user:i.id,loggedInAs:i.username}),Object(B.jsxs)(b.d,{children:[Object(B.jsx)(b.b,{path:"/myProfile",element:Object(B.jsx)(te,{user:i,token:n})}),Object(B.jsx)(b.b,{path:"/user/:id",element:Object(B.jsx)(ce,{user:i,token:n})}),Object(B.jsx)(b.b,{path:"/user/all",element:Object(B.jsx)(ae,{})}),Object(B.jsx)(b.b,{path:"/character/view/:characterId",element:Object(B.jsx)(se,{token:n})}),Object(B.jsx)(b.b,{path:"/character/:characterId",element:Object(B.jsx)(le,{token:n,userId:i.id,handleSubmitToBackend:function(e,t){t?V.createCharacter(e,n):V.updateCharacter(e,n)},userCreations:i.creations})}),Object(B.jsx)(b.b,{path:"/party/:partyId",element:Object(B.jsx)(re,{token:n,userId:i.id,user:i})})]})]})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,54)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};s.a.render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(E.a,{children:Object(B.jsx)(be,{})})}),document.getElementById("root")),oe()}},[[53,1,2]]]);
//# sourceMappingURL=main.721f978c.chunk.js.map